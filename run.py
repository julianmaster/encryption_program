import importlib
import os
import sys
import tempfile
import zipfile
from io import BytesIO

# Supposons que module_zip contient le zip avec __init__.pyc
module_zip = b'PK\x03\x04.\x00\x00\x00\x0c\x00c\x935X\x17\x07\xe4\xbf\xb1\x02\x00\x00\xeb\x02\x00\x00\x0c\x00\x00\x00__init__.pycBZh91AY&SY*\x0f\x96\n\x00\x01P\xff\xf7\xff\xff\xdbem%\x7f\xf7?\xff\xef\xf5\xbf\xff\xff\xf6FD\n\x84\x00.\x00\x08*\xd6H(x\x10@\x01\xbb\xa688\xaaL\xc8O\xd2\x984F\xd4=\r4#\x1a d\x1az\x8c\x98\x98# \xd0\x1ad\x00\xd3M\x07\xa8z\x8fS\xd0\x1a52\x11F\xa9\xe10\x9aF\xd1\xa1\x8axHd\xd1\xa6\x8fMF\x80df\xa0\xc8\r4\x00\x00\x00\x03@\x01\xa3 \x88&\x8fPjF\xcaz\x80\x00\x00\x00\x00h\x1a\x00\x00\x00\x00\x00\xd0\x00\x01\xe5=OHD\xd2\x98F\x90\x06\x084\x002`\x10\xd0\xd0\x01\x90\xd1\x93\t\x80&&#\x01\r\x00\x00?Tz\x16\x94\'\x8a\xa6I\x99\x7fA,\x91\xd2\x91%\x026R\tiK\xda\x85\x9dr"h\xd7\xd1ie\xd9\xa44\xc9\xc0\x00\x01! *\x10!.\xc7\xe6\xa1If\xdcd\xe8\x9fbq@;\xc4\x11@-&\x02u\x89\x03\x10\x95\x8b\xdc\x82\x96\xf6Jt\x1a=\xaf,T\xc5PjS"\n\xb4\xb1\x10\xc1\xc0\xc2\xfd`\xa0\x08\x88\xbc\xea\xa7\x87\xf5\xe5A\x00\xb71\x82CT\x12\x8e\x15\xc5`c\xd9\x02t\x04\x96\xc6\xa2J\xc4\x03> .\x99\x0740C\x0c\xc2[\xc1}\x8cj\x10\x8er\x1b\xe2\rqc+\x01?N1=\xfc\xcf\xf8\xbd\x9d\xc4\xc7\xd4`\xdd;n\xa4\x08\r|\x108\xc4I\x98MLl\xf0\xea\xb7I\xc6\xc2\x86\x1f\xb9e$;\xda\xe7V\xc8\x1e\xea#6TylF\xae\x10\x8a}b\xda:<\xc1Y$\xad\xaa\xcfg\xe0 \xc5\xbb6B\xf1\x01\x04S\xf6T!\x1f\x8a\xa6\xf3D."\x9e\x1e\x82\x00\xe8\xb9\x8b\xcd_\xa8\xfb\x151\xff(\xaa\xc9\x1a\xe0\x08oJ\x91O\xb4\xd37\x9d\x94;0\xf0N\x8d&\xfd\x96\xc2YN<\xee,\xf2\x18N<\x8c\x85\xe2\xb3S\x13\x1d\xe1U\xe0EpS\x12\xe32\xcb\x0b\x12\x1d\xfdG\x0c\xb9\x90\x0b|\xa0B\x06Q\x98}9\r\xc41 \xa1F\xaf\xf1(\xa4\xa7\xc48\x13\xe1Nk<\xd0 \x95\x1595\x13~\xec\x97\x18\xfel\xd6\xceq\x10\x8csN\xd5\xa8\x9b\xd8\xa2J\xa8\x81@I\xc1\xde\xab\x0e\xd6\x91\x8d\x04\x94\'\x9a\xc9\xe4\x894\xe5\xe7\x10K\x05\x0c\x16\x98\xc6T\xb7CIq\x96\x1c(\xd5\x8d;A\xfa\xe3A\x18\x07t\x074\xc5h\x15\x8a\x89*:\xda(\t\xd0\xd3G@\x1a\x15\x1aPef\n\xca)\x94\x04^Q\x11\x1f\x05\x99*\xc9\xa5v\xb5\x88\xc0\x89\xcfg\x9e\xac\xd0\x15a^\xcc&6\xa5\xe3\xf3\xcd\x0f\xc1\xcb\xc9\x10\xf3@\xe2\x9b\xf7\xfbh\xf4\xb4\x92\x12\xad\xbe\xbc\x9a\x8a&.\x80\xef\t\x9a\x98\xe3\x82\x87\xf8\xbb\x92)\xc2\x84\x81P|\xb0PPK\x01\x02.\x00.\x00\x00\x00\x0c\x00c\x935X\x17\x07\xe4\xbf\xb1\x02\x00\x00\xeb\x02\x00\x00\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xb6\x81\x00\x00\x00\x00__init__.pycPK\x05\x06\x00\x00\x00\x00\x01\x00\x01\x00:\x00\x00\x00\xdb\x02\x00\x00\x00\x00'

tmp_dir = tempfile.TemporaryDirectory(delete=False)

# Extraire le contenu du fichier zip
with zipfile.ZipFile(BytesIO(module_zip), 'r') as zip_ref:
    zip_ref.extractall(tmp_dir.name)

# Ajouter le dossier d'extraction au chemin système
sys.path.append(tmp_dir.name)

# Charger le module compilé
module_name = 'matplotlib'
module_path = os.path.join(tmp_dir.name, "__init__.pyc")

try:
    spec = importlib.util.spec_from_file_location(module_name, module_path)
    module = importlib.util.module_from_spec(spec)
    spec.loader.exec_module(module)
    # Utilisez le module comme nécessaire
except ImportError as e:
    print(f"Erreur d'importation : {e}")
